# R Language
Краткий конспект документации CRAN-R

## Ведение в R

### Введение и предварительное исследование

Выход из интерпретатора:
```r
q()
```

Получение справки:
```r
# По функциям:
help(example)
?example

# По операторам:
help("<-")

# Запуск HTML документации
help.start()

# Поиск функции
help.search("example")
??example
```

Запуск примеров функции:
```r
example("function")
```

Подключение и выполнение файла с командами:
```r
source("commands.R")
```

Перенаправление вывода:
```r
# Инициализация перенаправления в файл
sink("File Name.txt")

# Окончание перенаправления вывода
sink()
```

Вывод имён объектов созданных в сеансе R:
```r
objects()

ls()
```

Удаление объекта:
```r
rm(object1, object2)
```

### Простые манипуляции; числа и вектора

Вектор представляет собой единую сущность, состоящую из упорядоченного набора
чисел.

Создание вектора из произвольных чисел:
```r
x <- c(10.4, 5.6, 7, 6)

assign("y", c(15, 15, 18, 1, 5.6))

c(5, 2,1, 1.5, 84) -> z
```

Операции с векторами:
```r
x <- c(5, 10, 15)
y <- c(3, 2, 1)

x + y                                             # Сложение
x - y                                             # Вычитание
x * y                                             # Умножение
x / y                                             # Деление
log(x, base = 2)                                  # Логарифм
exp(x)                                            # Экспанента
sin(x)                                            # Синус
cos(x)                                            # Косинус
tan(x)                                            # Тангес
sqrt(x)                                           # Корень
max(x)                                            # Максимум
mean(x)                                           # Среднее значение
min(x)                                            # Минимум
range(x)                                          # Максимум и минимум
length(x)                                         # Длина вектора
sum(x)                                            # Сумма элементов
prod(x)                                           # Произведение элементов
sort(x)                                           # Сортировка

pmin(x, y)                                        # ?
pmax(x, y)                                        # ?

var(x)                                            # Дисперсия
cov(x, y)                                         # Ковариация
cor(x, y)                                         # Корреляция
```

Генерация последовательностей:
```r
1:9
seq(9, 1)
rep(x, each=3, times=2)
```

Логические веторы:
```r
b <- x > 13
```

Логические операции:
```r
x <- 1:9
y <- 9:1

x < y
x <= y
x > y
x >= y
x != y

x & y
x && y
x | y
x || y
```

Отсуствующее значение:
```r
x <- c(1:3, NA)                                   # NA означает, что отсуствует значение
x <- c(1:3, NaN)                                  # Not a Number
is.na(x)                                          # Проверка на NA или NaN
is.nan(x)                                         # Проверка на NaN
```

Вектор символов:
```r
x <- c("q", "w", "e", "r")
y <- paste(c("q", "w", "e","r"), 1:10, 15:20, sep=" ")

?Quotes                                           # Справка по специальным символам
```

Индексные векторы
```r
x <- c(1, 2, 3, 4, 5, NA, "Q", NaN, "W", "E")

x[!is.na(c) & x > 3]                              # Логический вектор

x[1:3]                                            # Вектор интегральных величин
x[rep(1:2, times=4)]

x[-(1:3)]                                         # Вектор отрицательных интегральных величин

names(x) <- c("Yellow", "Black", "Red")
```

### Объекты, их режимы и атрибуты

R работает с объектами. Объекты бывают
- Атомарные: каждый элемент вектора имеет тот же режим, что и другие
- В режиме списка
- Функции и выражения

Режим - это тип составлюящих объекта. Режим является одним из свойств объекта.
Длин структуры также представляет из себя свойство объекта.

```r
x <- 1:9
mode(x)
length(x)

x <- c(x, "C")
mode(x)
``` 

Изменение режима:
```r
x <- 1:9
x <- as.integer(x)
x <- as.character(x)
```

Изменение длины объекта:
```r
x <- integer()
x[5] <- 10                                        # Расширение объекта до нужной длины
x <- x[1:3]                                       # Сжатие объекта

length(x) <- 2                                    # Указание длины через свойствоw
```

Получение и изменение значений атрибутов:
```r
x <- 1:100
attr(x, "dim") <- c(10, 10)
attributes(x)
```

Классы объектов:
- numberic
- logical
- character
- list
- matrix
- array
- factor
- data.frame

От типа класса объекта зависит работа ряда универсальных функций, таких как
`summary(object)`, `plot(x)`, и т.д.

```r
unclass(x)                                        # ?
```